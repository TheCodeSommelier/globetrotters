<div class="row justify-content-center m-1">
    <div class="col-sm-8 disp-flexi">
        <%= form_with url: experiences_path, method: :get, class: "d-flex height-property" do %>
          <%= text_field_tag :query,
                params[:query],
                class: "form-control search",
                placeholder: "Search here"
            %>
          <%= submit_tag "Search", name: "", class: "btn-search" %>
        <% end %>
    </div>

  <div class="container">
    <div class="cards">
      <% @experiences.each do |experience| %>
        <div data-controller="saved-experience">
          <div class="photo", style="background-image: url(<%= cl_image_path experience.photos.first.key%>);">
            <div class="thisclass">
              <div class="d-flex">
                <div class="avatar m-3">
                  <%= cl_image_tag experience.journey.user.photo.key, crop: :fill, alt: "profile-pic", class: "avatar" %>
                </div>
                <p class="username">
                  <%= link_to experience.journey.user.username, profile_page_path(experience.journey.user.username) %>
                </p>
              </div>
              <%# dropdown for journeys %>
              <div class="d-flex flex-column justify-content-center parent-postion">
                <a data-saved-experience-target="button" class="plus-icon" data-action="click->saved-experience#dropdown"><%= image_tag("plus_icon.svg") %></a>
                <div class="d-none form-position" data-saved-experience-target="form">
                  <%= simple_form_for @saved_experience, url: saved_experience_path(experience) do |f| %>
                  <%= f.input :journey, collection: current_user.journeys, label_method: :location, value_method: :id %>
                  <%= f.submit 'Save', class: "btn-primary-custom" %>
                  <% end %>
                </div>
              </div>

            </div>

            <div class="title-likes">
              <div class="title">
                <h2><%= experience.title %></h2>
                <div data-controller="like-experience" data-like-experience-id-value="<%= experience.id %>" class="like-and-heart">
                  <div data-action="click->like-experience#updateLikes" data-like-experience-target = "likes" >
                    <%= render "experiences/like_link", journey: experience.journey, experience: experience %>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="content">
            <p><%= experience.content %></p>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>
